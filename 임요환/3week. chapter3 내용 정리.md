# 타입과 추상화
- 추상화 = 꼭 알아야 하는 사실은 정확하게 표현하고 몰라도 되는 정보는 무시함으로써 이해하기 쉽고 단순하며 목적에 부합하게 창조함

## 추상화를 통한 복잡성 극복
- 추상화
    - 현실에서 출발하되 불필요한 부분을 도려내가며 사물의 놀라운 본질을 드러나게 하는 과정
    - 어떤 양상, 세부사항, 구조를 명확하게 이해하기 위해 특정 절차나 물체를 의조적으로 생략하거나 감춤으로써 복잡도를 극복하는 방법
    - 구체적인 사물들 간의 공통점은 취하고 차이점은 버리는 일반화를 통해 단순하게 만듬
    - 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거함으로써 단순하게 만듬
- 추상화의 목적
    - 불필요한 부분을 무시함으로써 현실에 존재하는 복잡성을 극복하는 것
    - 복잡성을 이해하기 쉬운 수준으로 단순화하는 것

## 객체지향과 추상화
### 모두 트럼프일 뿐
- 앨리스는 트럼프 인간들의 차이점은 무시하며 공통점만을 취해 '트럼프'라는 개념으로 단순화함

### 그룹으로 나누어 단순화하기
- 정원사, 병사, 신하, 왕자와 공주, 하트 잭, 하트 왕, 하트 여왕으로 구분되어지는 '트럼프' 그룹과 하얀토끼가 속한 '토끼' 그룹으로 나눔

### 개념
- 개념 = 공통점을 기반으로 객체들을 묶기 위한 그릇(자동차, 비행기, 인간. 모니터 등), 객체를 분류하는 일종의 체
- 트럼프 = 몸이 납작하고 두 손과 두 발이 네모난 몸 모서리에 달려 있는 객체
- 개념을 이용하여 객체를 여러 그룹으로 분류(classification) 할 수 있음
- 객체에 어떤 개념을 적용하는 것이 가능해서 개념 그룹의 일원이 될 때 객체를 그 개념의 `인스턴스(instance)`라고 함

### 개념의 세 가지 관점
- 심볼(symbol) 
    - 개념을 가르키는 간략한 이름이나 명칭
    - 트럼프
- 내연(intension)
    - 개념의 완전한 정의를 나타내며 내연의 의미를 이용해 객체가 개념에 속하는지 여부를 확인 가능함
    - 몸이 납작하고 두 손과 두 발은 네모 귀퉁이에 달려 있는 등장인물
- 외연(extension)
    - 개념에 속하는 모든 객체의 집합(set)
    - 정원사, 병사, 신하, 왕자와 공주, 하트 잭, 하트왕, 하트 여왕
- 개념을 이용해 공통점을 가진 객체들을 분류할 수 있다는 점이 가장 중요함 -> 클래스(class), 분류(classification)

### 객체를 분류하기 위한 틀
- 분류 = 객체에 특정한 개념을 적용하는 작업
- 객체의 분류가 객체지향의 품질을 결정하므로 젹절한 개념에 따라 쉽게 찾고 조작할 수 있도록 최대한 직관적으로 분류해야 함

### 분류는 추상화를 위한 도구다
- 개념 = 객체들의 복잡성을 극복하기 위한 추상화 도구
- 일반화 적용과 불필요한 세부 사항 제거

## 타입
### 타입은 개념이다
- 타입은 개념과 동일하며 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념을 의미함
- 어떤 객체에 타입을 적용할 수 있을 때 그 객체를 타입의 인스턴스라고 함
- 타입의 인스턴스는 타입을 구성하는 외연인 객체 집합의 일원이 됨

### 데이터 타입
- 타입 시스템의 목적 = 메모리 안의 모든 데이터가 비트열로 보임으로써 야기되는 혼란을 방지하는 것, 데이터가 잘못 사용되지 않도록 제약사항을 부과하는 것
- 타입
    - 데이터가 어떻게 사용되느냐에 관한 것
    - 어떤 데이터에 어떤 연산자를 적용할 수 있느냐가 그 데이터의 타입을 결정함
    - 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 철저하게 감춰짐
- 데이터 타입 = 메모리 안에 저장된 데이터의 종류를 분류하는 데 사용하는 메모리 집합에 관한 메타데이터
- 데이터에 대한 분류 = 암시적으로 어떤 종류의 연산이 해당 데이터에 대해 수행될 수 있는지를 결정

### 객체와 타입
- 객체를 타입에 따라 분류하고 그 타입에 이름을 붙이는 것은 새로운 데이터 타입을 선언하는 것과 같음
- 객체가 어떤 타입에 속하는지를 결정하는 것은 객체가 수행하는 행동임
- 객체의 내부적인 표현은 외부로부터 철저하게 감춰짐

### 행동이 우선이다
- 동일한 책임을 수행(=동일한 행동)하는 일련의 객체는 동일한 타입에 속함
- 같은 타입에 속한 객체는 행동만 동일하다면 서로 다른 데이터를 가질 수 있음
- 다형성 = 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력
- 캡슐화 = 데이터의 내부 표현 방식과 무관하게 행동만이 고려 대상이라는 사실은 외부에 데이터를 감춰야 한다는 것을 의미

## 타입의 계층
### 트럼프 계층
- 트럼프 타입의 정의 = 납작 엎드릴 수 있고 뒤집어질 수 있음
- 트럼프 인간 타입의 정의 = 납작 엎드릴 수 있고 뒤집어질 수 있으며 걸을 때마다 몸이 종이처럼 좌우로 펄럭이는 존재
- 트럼프는 트럼프 인간을 포함하는 좀 더 일반적인 개념이며 트럼프 인간은 트럼프보다 좀 더 특화된 행동을하는 특수한 개념 = 두 개념 사이의 관계를 일반화/특수화(generalization/specialization) 관계라 함

### 일반화/특수화 관계
- 특수하다는 것은 일반적인 개념보다 범위가 더 좁다는 것을 의미 = 트럼프 인간은 트럼프의 부분 집합이 됨
- 일반화/특수화는 행동에 관한 것임
- 일반적인 타입은 특수한 타입에 비해 더 적은 수의 행동을 가지며 특수한 타입은 일반적인 타입에 비해 더 많은 행동을 가짐
- 특수한 타입은 일반적인 타입이 할 수 있는 모든 행동을 동일하게 수행할 수 있어야 하며 자신에게만 특수화된 행동을 추가적으로 할 수 있음
- 일반적인 타입은 특수한 타입보다 외연의 크기는 더 크고 행동의 수는 더 작음

### 슈퍼타입과 서브타입
- 일반적인 타입 = 슈퍼타입(Supertype)
- 특수한 타입 = 서브타입(Subtype)
- 타입이 다른 타입의 서브타입이 되기 위해서는 행위적 호환성을 만족시켜야 하며 서브타입은 슈퍼타입을 대체할 수 있어야 함

### 일반화는 추상화를 위한 도구다
- 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거시켜 단순하게 만드는 것 = 앨리스가 트럼프 인간들을 '기껏해야 트럼프에 불과해'로 단순하게 만듬
- 객체지향 패러다임은 대부분 분류와 일반화/특수화 기법을 동시에 적용하게 됨

## 정적 모델
### 타입의 목적
- 타입을 사용하는 이유 = 인간의 인지 능력으로는 시간에 따라 동적으로 변하는 객체(앨리스의 키)의 복잡성을 극복하기가 너무 어려움
- 타입은 시간에 따라 동적으로 변하는 앨리스의 상태를 시간과 무관한 정적인 모습으로 다룰 수 있게 해줌

### 그래서 결국 타입은 추상화다
- 앨리스에 관해 생각할 때 불필요한 시간이라는 요소와 상태 변화라는 요소를 제거하고 철저하게 정적인 관점에서 앨리스의 모습을 묘사하는 것을 가능하게 해줌
- 타입은 추상화이며 타입을 이용해 객체의 동적인 특성을 추상화 할 수 있고 시간에 따른 객체의 상태 변경이라는 복잡성을 단순화할 수 있게 해줌

### 동적 모델과 정적 모델
- 스냅샷(snapshot) = 객체가 특정 시점에 구체적으로 어떤 상태를 가지는 지
- 객체 다이어그램(object diagram) = 객체지향 모델링을 위한 표준 언어인 UML에서 스냅샷을 부르는 단어
- 동적 모델(dynamic model) = 스냅샷처럼 실제로 객체가 살아 움직이는 동안 상태가 어떻게 변하고 어떻게 행동하는지를 포착하는 것
- 타입 모델(type model) = 정적 모델(static model) = 객체가 가질 수 있는 모든 상태와 모든 행동을 시간에 독립적으로 표현하는 것, 동적으로 변하는 객체의 상태가 아니라 객체가 속한 타입의 정적인 모습을 표현
- 좋은 설계를 하기 위해서는 객체 관점의 동적 모델과 객체를 추상화한 타입 관점의 정적 모델을 적절히 혼용해야 함

### 클래스
- 정적인 모델은 클래스를 이용해 구현됨
- 타입을 구현하는 가장 보편적인 방법은 클래스를 이용하는 것임
- 클래스와 타입은 동일하지 않으며 타입은 객체를 분류하기 위해 사용하는 개념이며 클래스는 단지 타입을 구현할 수 있는 여러 구현의 메커니즘 중 하나일 뿐임
- 타입은 객체를 분류하는 기준이며 타입을 나누는 기준은 객체가 수행하는 행동임
- 객체지향에서 중요한 것은 동적으로 변하는 객체의 `상태`와 상태를 변경하는 `행위`임